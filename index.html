<!doctype html>
<html lang="mr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>‡§∏‡•ç‡§µ‡§æ‡§∞‡§ó‡•á‡§ü ‚Äî ‡§Æ‡§æ‡§ï‡§£‡•Ä ‚Äî ‡§®‡§ø‡§≤‡§Ç‡§ó‡§æ ‡§Æ‡§æ‡§∞‡•ç‡§ó</title>
  <style>
    body{font-family:'Segoe UI',Roboto,Arial,sans-serif;margin:0;
      background:linear-gradient(135deg,#fff8f8,#ffecec);color:#2c2c2c;
      min-height:100vh;display:flex;flex-direction:column;}
    header{background:#b00020;color:white;padding:20px;text-align:center;
      border-bottom:6px solid #ffd54f;}
    header h1{margin:0;font-size:30px;font-weight:700;}
    .container{max-width:900px;margin:30px auto;padding:20px;background:white;
      border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,0.15);}
    .card{background:#fff8f8;padding:15px;border-radius:10px;
      box-shadow:0 4px 10px rgba(0,0,0,0.08);margin-bottom:15px;}
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap;}
    select, input[type=text]{padding:10px;border:1px solid #ccc;border-radius:8px;flex:1;}
    input[type=text]{text-transform:uppercase;}
    button{background:#b00020;color:white;border:none;padding:10px 16px;
      border-radius:8px;cursor:pointer;font-weight:600;}
    button:hover{background:#7a0015;}
    button:disabled{background:#ccc;cursor:not-allowed;}
    .small{padding:6px 12px;font-size:14px;}
    #submissionsSection{display:none;margin-top:20px;}
    footer{margin-top:auto;background:#b00020;color:white;text-align:center;
      padding:14px;font-size:14px;border-top:4px solid #ffd54f;}
    footer a{color:#ffd54f;text-decoration:none;font-weight:600;}

    /* Popup Modal */
    #thankyouModal{
      display:none; position:fixed; top:0; left:0; width:100%; height:100%;
      background:rgba(0,0,0,0.6); z-index:9999; align-items:center; justify-content:center;
    }
    #thankyouModal .modal-content{
      background:#b00020; color:#fff; padding:30px; border-radius:12px; text-align:center;
      max-width:420px; margin:auto; box-shadow:0 8px 20px rgba(0,0,0,0.3);
      animation: fadeIn 0.5s ease;
    }
    #thankyouModal img{display:block;margin:0 auto 10px;}
    #thankyouModal h2{margin:0 0 10px;}
    #thankyouModal p{font-size:20px;font-weight:bold;}
    #thankyouModal button{
      margin-top:15px; background:#ffd54f; color:#000; border:none;
      padding:8px 16px; border-radius:8px; cursor:pointer; font-weight:600;
    }
    @keyframes fadeIn { from{opacity:0; transform:scale(0.95);} to{opacity:1; transform:scale(1);} }

    /* Continuous sliding images above footer (non-blocking) */
    .image-slider {
      overflow: hidden;
      background: #fff8f8;
      padding: 10px 0;
      border-top: 4px solid #ffd54f;
      pointer-events: none; /* slider won‚Äôt capture clicks */
    }
    .slide-track {
      display: flex;
      gap: 20px;
      /* wide enough + duplicated images for seamless loop */
      width: 200%;
      animation: scroll 30s linear infinite;
    }
    .slide-track img {
      width: 120px;
      height: auto;
      flex: 0 0 auto;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
    }
    @keyframes scroll {
      0%   { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    @media (max-width: 480px) {
      .slide-track img { width: 90px; }
      .slide-track { animation-duration: 24s; }
    }
  </style>
</head>
<body>
  <header>
    <h1>" ‡§∏‡•ç‡§µ‡§æ‡§∞‡§ó‡•á‡§ü-‡§Æ‡§æ‡§ï‡§£‡•Ä-‡§®‡§ø‡§≤‡§Ç‡§ó‡§æ " </h1>
  </header>

  <div class="container">
    <div class="card">
      <div class="row" style="justify-content:space-between">
        <div>‡§∏‡§Æ‡§∞‡•ç‡§•‡§ï‡§æ‡§Ç‡§ö‡•á ‡§ó‡§æ‡§µ ‡§®‡§ø‡§µ‡§°‡§æ, ‡§®‡§Ç‡§§‡§∞ ‡§®‡§æ‡§µ ‡§Ü‡§£‡§ø ‡§Ü‡§°‡§®‡§æ‡§µ ‡§ü‡§æ‡§ï‡§æ.</div>
        <button id="addSupporterBtn" class="small">+ ‡§∏‡§Æ‡§∞‡•ç‡§•‡§ï ‡§ú‡•ã‡§°‡§æ</button>
      </div>
    </div>

    <!-- supporters entry area -->
    <div id="supportersList"></div>

    <!-- view submissions section -->
    <div style="margin-top:20px;text-align:center;">
      <button id="viewBtn">View Submissions</button>
    </div>
    <div id="submissionsSection">
      <h3>‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡•á‡§≤‡•á ‡§∏‡§Æ‡§∞‡•ç‡§•‡§ï</h3>
      <div id="submissionList"></div>
      <button id="downloadBtn">Download CSV</button>
    </div>
  </div>

  <!-- Sliding Images Section (above footer) -->
  <div class="image-slider" aria-hidden="true">
    <div class="slide-track">
      <!-- base set -->
      <img src="photo_2025-11-16_15-22-56.jpg" alt="Bus" />
      <img src="photo_2025-11-16_15-23-00.jpg" alt="MSRTC Logo" />
      <img src="photo_2025-11-16_15-23-04.jpg" alt="Bus" />
      <img src="photo_2025-11-16_15-23-08.jpg" alt="MSRTC Logo" />
      <img src="photo_2025-11-16_15-23-13.jpg" alt="Bus" />
      <img src="photo_2025-11-16_15-23-26.jpg" alt="MSRTC Logo" />
      <!-- duplicate set for seamless loop -->
      <img src="photo_2025-11-16_15-22-56.jpg" alt="Bus" />
      <img src="photo_2025-11-16_15-23-00.jpg" alt="MSRTC Logo" />
      <img src="photo_2025-11-16_15-23-04.jpg" alt="Bus" />
      <img src="photo_2025-11-16_15-23-08.jpg" alt="MSRTC Logo" />
      <img src="photo_2025-11-16_15-23-21.jpg" alt="Bus" />
      <img src="photo_2025-11-16_15-23-04.jpg" alt="MSRTC Logo" />
      <img src="photo_2025-11-16_15-23-04.jpg" alt="Bus" />
      <img src="photo_2025-11-16_15-23-00.jpg" alt="MSRTC Logo" />
    </div>
  </div>

  <footer>
    ¬© 2025 MSRTC Theme | ‡§∏‡•ç‡§µ‡§æ‡§∞‡§ó‡•á‡§ü ‚Äî ‡§Æ‡§æ‡§ï‡§£‡•Ä ‚Äî ‡§®‡§ø‡§≤‡§Ç‡§ó‡§æ ‡§Æ‡§æ‡§∞‡•ç‡§ó <br>
    Designed with ‚ù§Ô∏è by <a href="#">SUYOG</a>
  </footer>

  <!-- Popup Modal -->
  <div id="thankyouModal">
    <div class="modal-content">
      <img src="photo_2025-05-08_23-07-38.jpg" 
           alt="MSRTC Logo" style="width:80px;height:auto;">
      <img src="photo_2025-05-08_23-07-38.jpg" 
           alt="Bus Icon" style="width:100px;height:auto;">
      <h2>üôè ‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶ ‡§Æ‡§æ‡§ä‡§≤‡•Ä üôè</h2>
      <p>‡§∞‡§æ‡§Æ ‡§ï‡•É‡§∑‡•ç‡§£ ‡§π‡§∞‡•Ä</p>
      <button id="modalOkBtn">‡§†‡•Ä‡§ï ‡§Ü‡§π‡•á</button>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const supportersList = document.getElementById('supportersList');
  const addSupporterBtn = document.getElementById('addSupporterBtn');
  const viewBtn = document.getElementById('viewBtn');
  const submissionsSection = document.getElementById('submissionsSection');
  const submissionList = document.getElementById('submissionList');
  const downloadBtn = document.getElementById('downloadBtn');
  const thankyouModal = document.getElementById('thankyouModal');
  const modalOkBtn = document.getElementById('modalOkBtn');

  const VIEW_PASSWORD = 'swargate2940';

  const villages = [
    "‡§∏‡•ç‡§µ‡§æ‡§∞‡§ó‡•á‡§ü","‡§á‡§Ç‡§¶‡§æ‡§™‡•Ç‡§∞","‡§Æ‡•ã‡§π‡•ã‡§≥","‡§∏‡•ã‡§≤‡§æ‡§™‡•Ç‡§∞","‡§¨‡•ã‡§∞‡§æ‡§Æ‡§£‡•Ä","‡§á‡§ü‡§ï‡§≥","‡§Ö‡§£‡§¶‡•Ç‡§∞","‡§®‡§≥‡§¶‡•Å‡§∞‡•ç‡§ó","‡§ú‡§≥‡§ï‡•ã‡§ü","‡§Ü‡§∑‡•ç‡§ü‡§æ‡§Æ‡•ã‡§°",
    "‡§ú‡•á‡§µ‡§≥‡•Ä","‡§π‡§ø‡§™‡•ç‡§™‡§∞‡§ó‡§æ","‡§π‡§∞‡§æ‡§≥‡•Ä","‡§ß‡§æ‡§®‡•Å‡§∞‡•Ä","‡§ö‡§ø‡§∞‡§ï‡§æ‡§™‡§æ‡§ü‡•Ä","‡§ï‡§∞‡§ú‡§ó‡§æ‡§Ç‡§µ","‡§Æ‡§æ‡§ï‡§£‡•Ä","‡§∏‡§æ‡§∏‡•ç‡§§‡•Ç‡§∞","‡§ó‡•Å‡§¨‡§æ‡§≥","‡§Æ‡§Ç‡§ó‡§∞‡•Ç‡§≥",
    "‡§ï‡§ø‡§≤‡•ç‡§≤‡§æ‡§∞‡•Ä","‡§ï‡§µ‡§†‡§æ‡§™‡§æ‡§ü‡•Ä","‡§è‡§ï‡•ã‡§Ç‡§ú‡•Ä","‡§Æ‡•Å‡§¶‡§ó‡§°","‡§∏‡§∞‡§µ‡§°‡•Ä","‡§π‡§æ‡§°‡•ã‡§≤‡•Ä","‡§Ü‡§®‡§Ç‡§¶‡§µ‡§æ‡§°‡•Ä","‡§Æ‡§¶‡§®‡§∏‡•Å‡§∞‡•Ä","‡§Ø‡•á‡§≥‡§Æ‡§µ‡§æ‡§°‡•Ä","‡§Æ‡§¶‡§®‡§∏‡•Å‡§∞‡•Ä‡§Æ‡•ã‡§°",
    "‡§≤‡§ø‡§Ç‡§¨‡§æ‡§≥‡§æ","‡§¶‡§æ‡§¶‡§ó‡•Ä","‡§®‡§ø‡§≤‡§Ç‡§ó‡§æ","‡§î‡§∞‡§æ‡§¶ ‡§∂‡§π‡§æ‡§ú‡§®‡•Ä"
  ];

  function createVillageDropdown(selected='') {
    const select = document.createElement('select');
    select.className = 'supVillage';
    const def = document.createElement('option');
    def.value = ''; def.textContent = '‡§ó‡§æ‡§µ ‡§®‡§ø‡§µ‡§°‡§æ';
    select.appendChild(def);
    villages.forEach(v => {
      const opt = document.createElement('option');
      opt.value = v; opt.textContent = v;
      if (v === selected) opt.selected = true;
      select.appendChild(opt);
    });
    return select;
  }

  function addSupporter(name='', surname='', village='') {
    const s = document.createElement('div');
    s.className = 'supporter card';
    const row = document.createElement('div');
    row.className = 'row';

    const villageSelect = createVillageDropdown(village);
    row.appendChild(villageSelect);

    const nameInput = document.createElement('input');
    nameInput.type = 'text';
    nameInput.placeholder = '‡§®‡§æ‡§µ';
    nameInput.className = 'supName';
    nameInput.value = name;
    nameInput.style.display = village ? 'block' : 'none';
    row.appendChild(nameInput);

    const surnameInput = document.createElement('input');
    surnameInput.type = 'text';
    surnameInput.placeholder = '‡§Ü‡§°‡§®‡§æ‡§µ';
    surnameInput.className = 'supSurname';
    surnameInput.value = surname;
    surnameInput.style.display = village ? 'block' : 'none';
    row.appendChild(surnameInput);

    const submitBtn = document.createElement('button');
    submitBtn.className = 'small';
    submitBtn.textContent = 'Submit';
    row.appendChild(submitBtn);

    s.appendChild(row);
    supportersList.appendChild(s);

    villageSelect.addEventListener('change', () => {
      const show = villageSelect.value !== '';
      nameInput.style.display = show ? 'block' : 'none';
      surnameInput.style.display = show ? 'block' : 'none';
      if (!show) { nameInput.value = ''; surnameInput.value = ''; }
    });

    submitBtn.addEventListener('click', () => {
      const nameVal = nameInput.value.trim();
      const surnameVal = surnameInput.value.trim();
      const villageVal = villageSelect.value;
      if (!villageVal || !nameVal || !surnameVal) {
        alert('‡§ó‡§æ‡§µ, ‡§®‡§æ‡§µ ‡§Ü‡§£‡§ø ‡§Ü‡§°‡§®‡§æ‡§µ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§Ü‡§π‡•á'); return;
      }
      const data = JSON.parse(localStorage.getItem('swargate_supporters') || '[]');
      data.push({ name: nameVal, surname: surnameVal, village: villageVal });
      localStorage.setItem('swargate_supporters', JSON.stringify(data));
      s.remove();
      thankyouModal.style.display = 'flex';
      addSupporterBtn.disabled = false; // re-enable add button after submit
    });
  }

  function closeModal() {
    thankyouModal.style.display = 'none';
  }
  modalOkBtn.addEventListener('click', closeModal);
  thankyouModal.addEventListener('click', (e) => {
    if (e.target === thankyouModal) closeModal();
  });

  // Add supporter row only when clicking the add button, then disable until submit
  addSupporterBtn.addEventListener('click', () => {
    addSupporter();
    addSupporterBtn.disabled = true;
  });

  // View submissions
  viewBtn.addEventListener('click', () => {
    const pw = prompt('‡§∏‡§¨‡§Æ‡§ø‡§∂‡§® ‡§™‡§æ‡§π‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¶‡•ç‡§Ø‡§æ:');
    if (pw === VIEW_PASSWORD) {
      submissionsSection.style.display = 'block';
      submissionList.innerHTML = '';
      const data = JSON.parse(localStorage.getItem('swargate_supporters') || '[]');
      if (data.length === 0) {
        submissionList.textContent = '‡§ï‡•ã‡§£‡§§‡•á‡§π‡•Ä ‡§∏‡§Æ‡§∞‡•ç‡§•‡§ï ‡§®‡•ã‡§Ç‡§¶‡§≤‡•á‡§≤‡•á ‡§®‡§æ‡§π‡•Ä‡§§.';
      } else {
        const ul = document.createElement('ul');
        data.forEach(d => {
          const li = document.createElement('li');
          li.textContent = `${d.village} - ${d.name} ${d.surname}`;
          ul.appendChild(li);
        });
        submissionList.appendChild(ul);
      }
    } else {
      alert('‡§ö‡•Å‡§ï‡•Ä‡§ö‡§æ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°!');
    }
  });

  // Download CSV
  downloadBtn.addEventListener('click', () => {
    const data = JSON.parse(localStorage.getItem('swargate_supporters') || '[]');
    if (data.length === 0) { alert('‡§°‡•á‡§ü‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§æ‡§π‡•Ä'); return; }
    let csv = 'Village,Name,Surname\n';
    data.forEach(d => { csv += `${d.village},${d.name},${d.surname}\n`; });
    const blob = new Blob([csv], { type: 'text/csv' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url; a.download = 'supporters.csv';
    document.body.appendChild(a); a.click(); document.body.removeChild(a);
    URL.revokeObjectURL(url);
  });
});
</script>
</body>
</html>
